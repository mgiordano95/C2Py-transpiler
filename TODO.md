# C2Py Transpiler TODO.md

## Task
- [x] Understand lexer
- [x] Understand parser
- [x] Study [uthash](https://troydhanson.github.io/uthash/) library 
- [x] Import utash header file
- [x] Understand symtab
- [x] Create Symbol Table (symboltable.h)
- [x] Implement Lexer (lexer.l)
    - [x] Improve token detection of multi-line comments, single-line comments and strings
    - [x] Add token to detect the # symbol (include library)
- [x] Create Abstract Syntax Tree (ast.h)
    - [x] Add struct AstNodeStatements
    - [x] Add struct AstNodeInstruction
    - [x] Add struct AstNodeInit
    - [x] Add struct AstNodeAssign
    - [x] Add struct AstNodeExpression
    - [x] Add struct AstNodeOperand
    - [x] Add struct AstNodeArrayDecl
    - [x] Add struct AstNodeArrayCall
    - [x] Add struct AstNodeArrayInit
    - [x] Add struct AstNodeArrayAssign
    - [x] Add struct AstNodeArrayElements
    - [x] Add struct AstNodeFunctionDecl
    - [x] Add struct AstNodeFunctionCall
    - [x] Add struct AstNodeFunctionParams
    - [x] Add struct AstNodeBody
    - [x] Add struct AstNodeIf
    - [x] Add struct AstNodeElseIf
    - [x] Add struct AstNodeElse
    - [x] Add struct AstNodeWhile
- [x] Create Parser (parser.y)
    - [x] Implement statements
    - [x] Implement instruction
    - [x] Implement initialization
    - [x] Implement assignment
    - [x] Implement expression
    - [x] Implement content
    - [x] Implement arrayDecl
    - [x] Implement arrayCall
    - [x] Implement arrayInit
        - [x] Implement findSym e createSym with ("Error: array already declared.\n")
    - [x] Implement arrayAssign
        - [x] Implement findSym with ("Error: array not declared.")
    - [x] Implement arrayElements
    - [x] Implement functionDecl
    - [x] Implement functionCall
    - [x] Implement functionParams
    - [x] Implement body
    - [x] Implement if
    - [x] Implement elseif
    - [x] Implement else
    - [x] Implement while
    - [x] Implement outputFunction
    - [x] Implement inputFunction
    - [x] Implement outputelements
    - [x] Implement inputElements
- [x] Create Transpiler (c2py.h)
    - [x] translateInitialization(struct AstNodeInit *init);
    - [x] translateAssignment(struct AstNodeAssign *assign);
    - [x] translateOperand(union ValueOper value, int contentType);
    - [x] translateExpression(struct AstNodeExpression *expression);
    - [x] translateArrayDecleration(struct AstNodeArrayDecl *arrayDecl);
    - [x] translateArrayCall(struct AstNodeArrayCall *arrayCall);
    - [x] translateArrayInitialization(struct AstNodeArrayInit *arrayInit);
    - [x] translateArrayAssignment(struct AstNodeArrayAssign *arrayAssign);
    - [x] translateArrayElements(struct AstNodeArrayElements *arrayElements);
    - [x] translateFunctionDeclaration(struct AstNodeFunctionDecl *functionDecl);
    - [x] translateFunctionCall(struct AstNodeFunctionCall *functionCall);
    - [x] translateFunctionParams(struct AstNodeFunctionParams *functionParams);
    - [x] translateIf(struct AstNodeIf *ifStatement);
    - [x] translateElseIf(struct AstNodeElseIf *elseifStatement);
    - [x] translateElse(struct AstNodeElse *elseStatement);
    - [x] translateWhile(struct AstNodeWhile *whileLoop);
    - [x] translateBody(struct AstNodeBody *body);
    - [x] translateFunctionOutput(struct AstNodeFunctionOutput *outputFunction);
        - [x] Implement detection and removal of substrings "%d", "%i", "%lf", "%f", "%c" and "%s" from string
    - [x] translateFunctionInput(struct AstNodeFunctionInput *inputFunction);
        - [x] Implement detection and removal of substrings "%d", "%i", "%lf", "%f", "%c" and "%s" from string
    - [x] translateOutputElements(struct AstNodeOutputElements *outputElements);
    - [x] translateInputElements(struct AstNodeInputElements *inputElements);
- [x] Move beginScope and endScope inside the body node because beginScope and endScope currently work for functions and not for if, else and elseif statements
- [x] Implement void only for function declaration
- [x] Insert parameter type check in the functionCall production (line 335-348)
- [x] Sort instruction production:
    - functionDecl
    - functionCall
    - initialization
    - assignment
    - arrayInit
    - arrayAssign
    - outputFunction
    - inputFunction
    - ifStatement
    - elseifStatement
    - elseStatement
    - whileLoop
- [x] Sort production:
    - program
    - statements
    - instruction
    - functionDecl
    - functionCall
    - functionParams
    - ifStatement
    - elseifStatement
    - elseStatement
    - whileLoop
    - body
    - arrayInit
    - arrayAssign
    - arrayDecl
    - arrayCall
    - arrayElements
    - outputFunction
    - inputFunction
    - outputElements
    - inputElements
    - initialization
    - assignment
    - expression
    - content
    - types